sudo: true
dist: xenial
services:
  - docker
language: python
python:
  - '3.7'
before_install:
  - pip install 'lander>=0.1.0,<0.2'
script:
  # Compile PDF using containerized lsst-texmf
  - docker run --rm -v `pwd`:/workspace -w /workspace lsstsqre/lsst-texmf:latest sh
    -c 'make'
  # Deploy website. See https://github.com/lsst-sqre/lander for CLI options
  - lander --upload --pdf DMTN-151.pdf --lsstdoc DMTN-151.tex --env=travis --ltd-product
    dmtn-151
env:
  global:
    -
      # LTD_AWS_ID
      secure: igbf9VSnqhCuUOKQnT7z6Um8Rg9fdUNZ1sWwiL2Xy1kd6IbFA8EIbz4WQUs1oZzyQjfY7k/SnJr9Hx8cF9lMQxka6ZdI9Am0cFsMhgkcl5U05IxUnqIaN/dZCFvP8uwcbDhz7F8q+0AQkPnWEQHouhRgFu3PLtwdI/oxesXdRuPwhkYxcBraQBC+9xMYlSSVkmMumX3KpiurcsmKwQfDx3aTFXtclOpt33RSav/5gsBuZJV3n9YrwH4U6RS1fHA1SUTg5Sw3ZyeTiN6QTtPk0xe/HWLaZx+l2aOpAruSafzp40Cks2zw3nMU8nR3/I9lirtBi4P+DKGglPZqsj40ReuBZjyKhN4raVrzQ+QvQrhX2fI8mPzj2/uEptnPuY8R89dgoKXw7Va/ugzlrWZl2XANeKIX45SFKdyWyJo5GIIg0RgpLluiO9g7zsS7WtPbckXJNn7uiKxnHgutACTTyzMouo+0A1A+t0Wn7xShJ5C6kLNsdQNTQHrxy9zp1auUPRcY5mfuSHKBC1L9FtizQnbZf3Q92uIpzmo2UCilc3y5srwDyIkQG3nXHVMIIo806jYk3aJN1FjRmgIaWxawZHX4TJ+05I4GWDKsVNbeNfypvwMla6FT1VHx5adIOCE8RURvGV8jCuPUvWD0AHuceQyH40eM5rA11/NbAoVRViY=
    -
      # LTD_AWS_SECRET
      secure: blM4erDXtjA8hK+b/s4mkvt75unJkfds6wEHcfD5aQk5tGVwLKZfryn9Cy1N3qf+mizafdaJwYLDgwgjSxAsaSIG1BBchKxEOuUxzcxd694iHGaLgbZr/nJyIOSmvmSrtvN5THcstOMCd2nOaA3nFmmp5fliMvoY/BALgEXe2MNdL/J7GsuI8DCs4BOo5krFrO2bxUSW0d/OJRqTUuLDB0J+EDFhSGR9IgH47DMC6UMwYaQkYBBTpDOgx7smsZi4hYLd262/ItnwiNCzNEoMNpvR9f0qaoxc8Q02Xq2rdPfpngtW83avznoIjwQEmtdaOZOHl/qyqX4gcWizUhFCzpP3n6S1plVSOFlAfQBum0fnttMLfHHv/Kp9+/IlvkMCiCXjVEfT0PMKD5oGGy5CxmtLc/BxEpF5TuVnjTu36GDEniA0paFklV8XXkef0Fc/KkplMY/OIkiyRuZhy5wrh7581G2cjLh1gAnblGHG0EAxNhn9Mb02okdp4wi1UztBdl/mXieBMpJ2nRnuTLXQhD60qX3sy2DftW5S4pDUpba2BJ5Im9gLnjlxg0VHYaDEaq5w7pkyuKnFOBAb22GXiNF41daeADzngE3QGrPnaTKd4CS1Guc+/6KF2RDZVtKWLvg7CHYkDIQWP+woxQOHuj2R/Mk5VnM1yjMwwFrPAi4=
    -
      # LTD_KEEPER_USERNAME
      secure: ke1x9rtXl7DtHvyeRE/I6T7quJ4G+d4eLp+j6V1C7sBzDB75g2B+Yqv7FUlNLzySbSzpPhN2JdIvZlrTkplOy0OtFE9qqf3ajHBE8V6ejbanOtWTTK8ojQetr7b2vzkMVd+FHqSWE3yMFes+Em4/yzonJtnUlNoByUwHlEUleRRV8jyx6OhdtCOG7Kic60Azw3JKsdrelHekMbLvlRPxrOkozjYnqE5uHSwZO4QZM1anRsYTxZxfZ5Yx7fUHhzMB/pk1vMhEysmpEqMAUvKBuFzPwl1QJ+L4LJl7KYFkPXXpnwz4oI0not4a0XM2Ne+np+w9MRi9IV011z3YjFRU6ojNqX4Rb8IOKy+NTxUh8Tq9RU6p2ylhaMWeI+206BRaEpZ8Nafqonb29OmQgIZloKwpScxkB8RwMfng7QAwpMDbVWbKnhee7Ej/AEHrKLVcy+JzDmoOXSNG+/JLBaoMtN4luyB/gk9Elcp0RqmMIU95+2LvuwTH/J62TeGWKZ0UPyFJCuRwe7ZtBFu0yWIXxdpO92oCdu7EHNcG1vZywT1+PiFXTeK3rZw9QXcS1qsk2Hums1QzSOVUkC9qXVw4DzpZsaQzmbnrARcHIWKJ6qDoPaRjPJe/LS6eZDL+ITPyDwtwItf/mn+Rxx3AH9YbprKslIEO0p3bPyM20E27Fqs=
    -
      # LTD_KEEPER_PASSWORD
      secure: hOijn1jvdvvFKMQNEiHQ6djxnUkkBmOPVYQYktd7fL/YtR+vson6J4+2j9+ADRkw/CQxOmhrRShSbiq1Mjy6MdtKRw6ZxJcW5s6ZVUmJXBWG5dmnyGWJug8qaKgiKjSLn8URyR2QoGpEVBPZPk0MpJqutlbW2KdxlHZc5NmsyXTqoJqJOfMvqmzn+DlK47G93SlieE/NHzuDpiIm0z54jvemiUE6uBwj8mte/YinJhzLSeffHtj+UHtLIoH+P/P0rp/Mc6C/6YIdS3jmzhNk4ltStTRM8zYdOwEcMMWgqC0O+3rS6eQ9bF+LxVVpIxC6QRSbvS/2Av9Dnb1J3oNXErUCVOuoHJf3fDrQkQdWbw1GDV1Geuv5CVMQ2v00awjA6l66177auBeYqdUD72Xg+m1wKNHg7NzPHwDZ0/TH7Q/oysePAzHFVih4Ym9QoQ6PRP4cm+iR/AARTKStAVaHYIhByUC3346f1xluNf5b5YNtzEGDNrzDka8eCirAol1xFDV+2qqn17rRXGz+82HImkvE67PyCOLsSJBftSxF0WkzXO07ORomT2oi4a1buDSaXUSGJFitjw2VppUa1+6a3uzwt2KNQbWXqaJLZxrZvor+PXNxbRaqFTXZO4H61Bt0TMTmjAm9HvwDXeN8uiKDWL0hv2JuZThImm0Ueqkznfk=
    -
      # LTD_KEEPER_URL
      secure: CFqHez2NB+mgBsQB3gVjXzvJkQ52vYszXHyhZnbdYI58Iso3JV6HIJ1qnly3jD8woi+xTN3UBLf9Pm77IEifzoxr42W/Yj6q4Ev6TbugPn5/yp9UpYeFiYtad83MsTkioNSTKMy63GSl+34GC81Lz/mDFgGJL8kYbdf2CwsfowsDlKiPLUU49BkaSlFUsOkCx8n0klh6mv8+aK81Zp3SzA+ZntZz0uZGw0gmVkjqwS0EphWi/QmAtnIyAw8DmEC2nqUOhhBjm1pxUBE+kgqeJH3GC5WWDXsOY5328aYzubJvhHZWewC6gYxnJuoPv/xVyZTyf0TCT/MBAKl86R1xc+ancXb3LYznINwicsnS6p9Ev17SdUSKBN5MsXrTJAeD+pelD3vYdY7em6KsFqvDZ6bE6b0DWD+cdpTFAXjG17gtKEXQDdcBcPT7sYEeibbO95YC95+OkoWQV+LG9w0GMhcduZI2q+GP8QLedO29PvTVJcbJSn63kH5qur6fN34HeWS9qgY/zN+ySbDit/e1R14KUhAURp0/Mm4osIKculO+ijv0xWiXPk8wbxMI9oAyCnEBsFsLx/Ga9VIFLt+UBcXfeYkb+xkNGRuxLCpvGhrbKGIsbjHJgTwD5l5fhOy5q+scy95lUORpbguCjccAasjE/ZTevVPW1yy5CkhjWOs=
